## 一問一答
<details>
<summary>Egress-Only Internet Gatewayとは？</summary>
IPv6 のアウトバウンド専用インターネットゲートウェイ。外へは出られるが、外から入ってこれない仕組み。
</details>


<details>
<summary>プレースホルダとは？</summary>
プレースホルダは「危険な値を直接書かず、安全に後から埋め込むための仕組み」。SQLインジェクション対策では“クエリと値を分離”する最重要手法。AWS では機密値を隠すために使う。
</details>


<details>
<summary>API Gateway オーソライザとは？</summary>
API の前で認証・認可を行い、不正リクエストを通さないフィルタ。Lambda・JWT・IAM の3方式があり、用途に応じて選ぶ。
</details>


<details>
<summary></summary>
</details>

## 1問目：

ある企業では、多数の Amazon EC2 インスタンスに 暗号化されていない Amazon EBS ボリューム が接続されていることがセキュリティ監査で判明しました。ソリューションアーキテクトは、次の2つを求められています。
- 既存の暗号化されていない EBS ボリュームを暗号化すること
- 今後、新しく作られる EBS ボリュームが暗号化されていない状態にならないようにすること

これらの要件を満たすために、ソリューションアーキテクトはどちらの手順を実行する必要がありますか？

- A. AWS CLI で暗号化されていない既存ボリュームを検出し、そのまま暗号化するスクリプトを実行する。
- B. 暗号化されていない各ボリュームからスナップショットを作成し、そのスナップショットから 暗号化された新しい EBS ボリューム を作成して既存ボリュームと入れ替える。さらに、EBS のデフォルト暗号化（Default EBS Encryption）を有効にする。

<details>
<summary>答え</summary>
A,C

- CLI から 既存の EBS ボリュームを直接暗号化する API は存在しない。

```sh
非暗号化ボリューム
     ↓ snapshot
暗号化された snapshot
     ↓ create-volume
暗号化されたボリューム（新しいディスク）
```

</details>

## 2問目：

ある企業では、Application Load Balancer (ALB) の背後にある Amazon EC2 インスタンスにデプロイされたアプリケーションがあります。インスタンスは Auto Scaling グループに属しています。このアプリケーションには予測不可能なワークロードがあり、頻繁にスケールアウトとスケールインが行われます。同社の開発チームは、アプリケーションのログを分析して、アプリケーションのパフォーマンスを改善する方法を見つけたいと考えています。しかし、インスタンスがスケールインすると、ログは利用できなくなります。

スケールインイベント後にアプリケーションログを表示できるようにするソリューションを選択してください。

- A. ALB のアクセスログを有効にします。ログを Amazon S3 バケットに保存します。
- B. 統合された CloudWatch エージェントを使用して、Amazon CloudWatch Logs にログを公開するように EC2 インスタンスを設定します。
- C. AWS X-Ray トレースを使用してアプリケーションを計測します。

<details>
<summary>答え</summary>
B

- ALB アクセスログは クライアント → アプリケーションまでの HTTP リクエスト情報。アプリケーションの内部まではログが取れない。
- X-Ray はアプリの動作経路（トレース）を記録するツールであり、アプリケーションログとは全く別物。
  - オブザーバビリティを実現するサービスでもあるな。今までの監視は事故ってからじゃないと動けなかったんやけど、事故る前に気づこうよって考え方。

</details>

